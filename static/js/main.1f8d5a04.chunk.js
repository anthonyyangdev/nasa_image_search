(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(23)},17:function(e,t,a){},18:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(7),r=a.n(i),o=(a(17),a(1)),c=a(3),l=a(2),u=a(5),h=a(4),p=a(6),d=(a(18),a(8)),m=a.n(d),v=a(10);a(21);var g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={image:a.props.img_url,title:a.props.title,data:a.props.data,modal_image:null},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getBetterPicture",value:function(){var e=this;fetch(this.props.href).then(function(e){return e.json()}).then(function(t){e.setState({modal_image:t[0]})}).catch(function(t){e.setState({modal_image:e.state.image})})}},{key:"componentDidMount",value:function(){this.getBetterPicture()}},{key:"componentDidUpdate",value:function(e){var t=0;e.img_url!==this.props.img_url&&(this.setState({image:this.props.img_url}),t++),e.title!==this.props.title&&(this.setState({title:this.props.title}),t++),e.data!==this.props.data&&(this.setState({data:this.props.data}),t++),e.href!==this.props.href&&(this.setState({href:this.props.href}),t++),t>0&&this.getBetterPicture()}},{key:"openModal",value:function(){var e=document.getElementById("this_modal"),t=document.getElementById("modal_img"),a=document.getElementById("caption");e.style.display="block",t.src=this.state.modal_image,a.innerHTML=function(e){var t=e[0],a=t.title+"\n\n";return void 0!==t.photographer&&(a+="Photographer: "+t.photographer+"\n\n"),void 0!==t.secondary_creator&&(a+="Secondary Creator: "+t.secondary_creator+"\n\n"),void 0!==t.center&&(a+="Center: "+t.center+"\n\n"),void 0!==t.location&&(a+="Location: "+t.location+"\n\n"),void 0!==t.date_created&&(a+="Date Created: "+t.date_created+"\n\n"),void 0!==t.description&&(a+="Description: "+t.description+"\n\n"),a}(this.state.data)}},{key:"closeModal",value:function(){document.getElementById("this_modal").style.display="none"}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"galleryDivider",onClick:this.openModal.bind(this)},s.a.createElement("img",{src:this.state.image,alt:"Space",className:"photos"}),s.a.createElement("br",null),this.state.title),s.a.createElement("div",{id:"this_modal",className:"modal"},s.a.createElement("span",{className:"close_modal",onClick:this.closeModal.bind(this)},"\xd7"),s.a.createElement("img",{id:"modal_img",className:"photo_modal_img"}),s.a.createElement("div",{id:"caption"})))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={json:a.props.json,page:a.props.page,row:a.props.row,col:a.props.col},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderResult",value:function(e){var t=this.state.json.collection.items,a=this.state.col*this.state.row,n=(this.state.page-1)%4*a+(e-1);if(n>=t.length)return s.a.createElement("td",null);var i=t[n].links,r=t[n].data,o=r[0].title,c=i[0].href,l=t[n].href;return s.a.createElement("td",null,s.a.createElement(g,{img_url:c,title:o,data:r,href:l}))}}]),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){e.json!==this.props.json&&this.setState({json:this.props.json}),e.page!==this.props.page&&this.setState({page:this.props.page}),e.row!==this.props.row&&this.setState({row:this.props.row}),e.col!==this.props.col&&this.setState({col:this.props.col})}},{key:"render",value:function(){return s.a.createElement("table",{id:"gallery"},s.a.createElement("tbody",null,s.a.createElement("tr",null,this.renderResult(1),this.renderResult(2),this.renderResult(3),this.renderResult(4),this.renderResult(5)),s.a.createElement("tr",null,this.renderResult(6),this.renderResult(7),this.renderResult(8),this.renderResult(9),this.renderResult(10)),s.a.createElement("tr",null,this.renderResult(11),this.renderResult(12),this.renderResult(13),this.renderResult(14),this.renderResult(15)),s.a.createElement("tr",null,this.renderResult(16),this.renderResult(17),this.renderResult(18),this.renderResult(19),this.renderResult(20)),s.a.createElement("tr",null,this.renderResult(21),this.renderResult(22),this.renderResult(23),this.renderResult(24),this.renderResult(25))))}}]),t}(n.Component),y=(a(22),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={row:5,col:5,input:a.props.inputs,prev_json:a.props.prev_json,json:a.props.json,next_json:a.props.next_json,current_page:1,true_page:1,end:s.a.createElement("div",null)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"parseParam",value:function(e){var t,a=e.split(" "),n=(a=a.filter(function(e){return""!==e})).map(function(e){return e+"%20"}),s="",i=a.length;for(t=0;t<i-1;t++)s+=n[t];return i-1>=0&&(s+=a[i-1]),s}},{key:"searchURL",value:function(){var e,t="",a=this.state.input;for(e in a){var n=a[e].toString();null!==n&&""!==n&&(t+=""===t?"?"+e+"=":"&"+e+"=",t+=this.parseParam(n.trim()))}return"https://images-api.nasa.gov/search"+t}},{key:"searchServer",value:function(e){var t=this;fetch(e).then(function(e){return e.json()}).then(function(e){t.setState({json:e,prev_json:null,next_json:null,current_page:1,true_page:1},function(){this.parsePrevAndNext()})}).catch(function(){alert("An error was encountered while attempting to connect to the server.")})}},{key:"pressedSearch",value:function(){this.closeSpecifics(),this.searchServer(this.searchURL())}},{key:"openSpecifics",value:function(){document.getElementById("specific_search").style.height="100%"}},{key:"closeSpecifics",value:function(){document.getElementById("specific_search").style.height="0%"}},{key:"updateQuery",value:function(e){var t=Object.assign({},this.state.input);this.setState({input:Object(o.a)({},t,{q:e.target.value})})}},{key:"updateTitle",value:function(e){var t=Object.assign({},this.state.input);this.setState({input:Object(o.a)({},t,{title:e.target.value})})}},{key:"updateMedia",value:function(e){var t=Object.assign({},this.state.input);this.setState({input:Object(o.a)({},t,{media_type:e.target.value})})}},{key:"updatePhotographer",value:function(e){var t=Object.assign({},this.state.input);this.setState({input:Object(o.a)({},t,{photographer:e.target.value})})}},{key:"updateLocation",value:function(e){var t=Object.assign({},this.state.input);this.setState({input:Object(o.a)({},t,{location:e.target.value})})}},{key:"updateStart",value:function(e){var t=Object.assign({},this.state.input),a=e.target.value,n=(new Date).getFullYear;a>n&&(a=n),this.setState({input:Object(o.a)({},t,{year_start:a})})}},{key:"updateEnd",value:function(e){var t=Object.assign({},this.state.input),a=e.target.value,n=(new Date).getFullYear;a>n&&(a=n),this.setState({input:Object(o.a)({},t,{year_end:a})})}},{key:"parsePrevAndNext",value:function(){var e=Object(v.a)(m.a.mark(function e(){var t,a,n,s,i=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,a=null,void 0===(n=this.state.json.collection.links)){e.next=14;break}e.t0=n.length,e.next=0===e.t0?7:1===e.t0?8:2===e.t0?10:13;break;case 7:return e.abrupt("return");case 8:return 1===this.state.true_page?a=n[0].href:t=n[0].href,e.abrupt("break",14);case 10:return t=n[0].href,a=n[1].href,e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:null!==t&&null!==a?(s=Promise.resolve(fetch(t).then(function(e){return e.json()}).catch(function(){alert("An error was encountered while attempting to connect to the server.")})),Promise.resolve(fetch(a).then(function(e){return e.json()}).catch(function(){alert("An error was encountered while attempting to connect to the server.")})).then(function(e){s.then(function(t){i.setState({prev_json:t,next_json:e},function(){this.renderTransitionButtons()})})})):null!==t?fetch(t).then(function(e){return e.json()}).then(function(e){i.setState({prev_json:e},function(){this.renderTransitionButtons()})}).catch(function(){alert("An error was encountered while attempting to connect to the server.")}):null!==a?fetch(a).then(function(e){return e.json()}).then(function(e){i.setState({next_json:e},function(){this.renderTransitionButtons()})}).catch(function(){alert("An error was encountered while attempting to connect to the server.")}):this.setState({next_json:null,prev_json:null},function(){this.renderTransitionButtons()});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.parsePrevAndNext()}},{key:"componentDidUpdate",value:function(e){e.inputs!==this.props.inputs&&this.setState({input:this.props.inputs}),e.prev_json!==this.props.prev_json&&this.setState({prev_json:this.props.prev_json}),e.json!==this.props.json&&this.setState({json:this.props.json}),e.next_json!==this.props.next_json&&this.setState({next_json:this.props.next_json})}},{key:"goNext",value:function(){4*this.state.true_page===this.state.current_page?this.setState({json:this.state.next_json,prev_json:null,next_json:null,current_page:this.state.current_page+1,true_page:this.state.true_page+1},function(){this.parsePrevAndNext()}):this.setState({current_page:this.state.current_page+1},function(){this.parsePrevAndNext()})}},{key:"goPrev",value:function(){4*this.state.true_page-3===this.state.current_page?this.setState({json:this.state.prev_json,prev_json:null,next_json:null,current_page:this.state.current_page-1,true_page:this.state.true_page-1},function(){this.parsePrevAndNext()}):this.setState({current_page:this.state.current_page-1},function(){this.parsePrevAndNext()})}},{key:"bothNav",value:function(){return s.a.createElement("div",{id:"search-end"},s.a.createElement("button",{id:"prev",onClick:this.goPrev.bind(this)},"Previous"),"Page ",this.state.current_page,s.a.createElement("button",{id:"next",onClick:this.goNext.bind(this)},"Next"))}},{key:"onlyPrev",value:function(){return s.a.createElement("div",{id:"search-end"},s.a.createElement("button",{id:"prev",onClick:this.goPrev.bind(this)},"Previous"),"Page ",this.state.current_page)}},{key:"onlyNext",value:function(){return s.a.createElement("div",{id:"search-end"},"Page ",this.state.current_page,s.a.createElement("button",{id:"next",onClick:this.goNext.bind(this)},"Next"))}},{key:"neitherNav",value:function(){return s.a.createElement("div",{id:"search-end"},"Page ",this.state.current_page)}},{key:"renderTransitionButtons",value:function(){if(4*this.state.true_page-3===this.state.current_page)if(null===this.state.prev_json&&null===this.state.next_json){var e=this.state.json.collection.items.length,t=this.state.current_page%4*25-1;1===this.state.current_page&&t>=e?this.setState({end:this.neitherNav()}):t>=e?this.setState({end:this.onlyPrev()}):1===this.state.current_page?this.setState({end:this.onlyNext()}):this.setState({end:this.bothNav()})}else if(null===this.state.prev_json)this.setState({end:this.onlyNext()});else if(null===this.state.next_json){var a=this.state.json.collection.items.length;this.state.current_page%4*25-1>=a?this.setState({end:this.onlyPrev()}):this.setState({end:this.bothNav()})}else this.setState({end:this.bothNav()});else if(4*this.state.true_page===this.state.current_page)null===this.state.prev_json&&null===this.state.next_json?4===this.state.current_page?this.setState({end:this.onlyPrev()}):this.setState({end:this.neitherNav()}):null===this.state.prev_json?4===this.state.current_page?this.setState({end:this.bothNav()}):this.setState({end:this.onlyNext()}):null===this.state.next_json?this.setState({end:this.onlyPrev()}):this.setState({end:this.bothNav()});else{var n=this.state.json.collection.items.length,s=this.state.current_page%4*25-1;1===this.state.current_page&&s>=n?this.setState({end:this.neitherNav()}):s>=n?this.setState({end:this.onlyPrev()}):1===this.state.current_page?this.setState({end:this.onlyNext()}):this.setState({end:this.bothNav()})}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("header",{className:"Search-header"},s.a.createElement("section",{id:"search"},s.a.createElement("a",{href:"index.html",id:"search-name"}," NASA Image Archive "),s.a.createElement("div",null,s.a.createElement("input",{value:this.state.input.q,onChange:this.updateQuery.bind(this),id:"search-bar"}),s.a.createElement("button",{className:"search-submit",onClick:this.pressedSearch.bind(this)},"Search"),s.a.createElement("button",{className:"search-submit",onClick:this.openSpecifics.bind(this)},"Specify My Search")),s.a.createElement("div",null,s.a.createElement(f,{json:this.state.json,page:this.state.current_page,row:this.state.row,col:this.state.col})),this.state.end,s.a.createElement("div",{id:"specific_search",className:"overlay"},s.a.createElement("a",{href:"javascript:void(0)",className:"closebutton",onClick:this.closeSpecifics.bind(this)},"\xd7"),s.a.createElement("div",{className:"overlay-content"},s.a.createElement("a",{href:"#"},"Regular Search Terms"),s.a.createElement("input",{value:this.state.input.q,onChange:this.updateQuery.bind(this),className:"specify"}),s.a.createElement("a",{href:"# ",id:"t"},"Title"),s.a.createElement("input",{value:this.state.input.title,onChange:this.updateTitle.bind(this),className:"specify"}),s.a.createElement("a",{href:"#",id:"d"},"Photographer"),s.a.createElement("input",{value:this.state.input.photographer,onChange:this.updatePhotographer.bind(this),className:"specify"}),s.a.createElement("a",{href:"#",id:"l"},"Location"),s.a.createElement("input",{value:this.state.input.location,onChange:this.updateLocation.bind(this),className:"specify"}),s.a.createElement("div",{className:"year-slider"},s.a.createElement("a",{href:"#",id:"date"},"Start Year: ",this.state.input.year_start),s.a.createElement("input",{value:this.state.input.year_start,min:"1",max:(new Date).getFullYear(),step:"2",type:"range",onChange:this.updateStart.bind(this)}),s.a.createElement("a",{href:"#",id:"date"},"Year End: ",this.state.input.year_end),s.a.createElement("input",{value:this.state.input.year_end,min:"1",max:(new Date).getFullYear(),step:"2",type:"range",onChange:this.updateEnd.bind(this)}),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.pressedSearch.bind(this),id:"specify-button"},"Search")))))))}}]),t}(n.Component)),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={quote:a.props.quote,input:{q:"",media_type:"image",location:"",photographer:"",title:"",year_start:"1",year_end:(new Date).getFullYear()},jsonReady:!1,json:null},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"parseParam",value:function(e){var t,a=e.split(" "),n=(a=a.filter(function(e){return""!==e})).map(function(e){return e+"%20"}),s="",i=a.length;for(t=0;t<i-1;t++)s+=n[t];return i-1>=0&&(s+=a[i-1]),s}},{key:"searchURL",value:function(){var e,t="https://images-api.nasa.gov/search",a="",n=this.state.input;for(e in n){var s=n[e].toString();null!==s&&""!==s&&(a+=""===a?"?"+e+"=":"&"+e+"=",a+=this.parseParam(s.trim()))}return console.log(t+a),t+a}},{key:"searchServer",value:function(e){var t=this;fetch(e).then(function(e){return e.json()}).then(function(e){t.setState({jsonReady:!0,json:e})}).then(function(){r.a.render(s.a.createElement(y,{inputs:t.state.input,json:t.state.json,prev_json:null,next_json:null}),document.getElementById("root"))}).catch(function(e){alert("An error was encountered while attempting to connect to the server.")})}},{key:"pressedSearch",value:function(){this.searchServer(this.searchURL())}},{key:"openSpecifics",value:function(){document.getElementById("specific_search").style.height="100%"}},{key:"closeSpecifics",value:function(){document.getElementById("specific_search").style.height="0%"}},{key:"updateQuery",value:function(e){var t=Object.assign({},this.state.input);this.setState({input:Object(o.a)({},t,{q:e.target.value})})}},{key:"updateTitle",value:function(e){var t=Object.assign({},this.state.input);this.setState({input:Object(o.a)({},t,{title:e.target.value})})}},{key:"updateMedia",value:function(e){var t=Object.assign({},this.state.input);this.setState({input:Object(o.a)({},t,{media_type:e.target.value})})}},{key:"updatePhotographer",value:function(e){var t=Object.assign({},this.state.input);this.setState({input:Object(o.a)({},t,{photographer:e.target.value})})}},{key:"updateLocation",value:function(e){var t=Object.assign({},this.state.input);this.setState({input:Object(o.a)({},t,{location:e.target.value})})}},{key:"updateStart",value:function(e){var t=Object.assign({},this.state.input),a=e.target.value,n=(new Date).getFullYear;a>n&&(a=n),this.setState({input:Object(o.a)({},t,{year_start:a})})}},{key:"updateEnd",value:function(e){var t=Object.assign({},this.state.input),a=e.target.value,n=(new Date).getFullYear;a>n&&(a=n),this.setState({input:Object(o.a)({},t,{year_end:a})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("section",{id:"main-page"},s.a.createElement("a",{href:"index.html",id:"name"}," NASA Image Archive "),s.a.createElement("h3",{style:{color:"#0070ff"}}," ",this.state.quote," "),s.a.createElement("div",null,s.a.createElement("input",{value:this.state.input.q,onChange:this.updateQuery.bind(this),id:"app-search-bar"})," ",s.a.createElement("br",null),s.a.createElement("button",{className:"main-submit",onClick:this.pressedSearch.bind(this)},"Search"),s.a.createElement("button",{className:"main-submit",onClick:this.openSpecifics.bind(this)},"Specify My Search"),s.a.createElement("div",{id:"specific_search",className:"overlay"},s.a.createElement("a",{href:"javascript:void(0)",className:"closebutton",onClick:this.closeSpecifics.bind(this)},"\xd7"),s.a.createElement("div",{className:"overlay-content"},s.a.createElement("a",{href:"#"},"Regular Search Terms"),s.a.createElement("input",{value:this.state.input.q,onChange:this.updateQuery.bind(this),className:"specify"}),s.a.createElement("a",{href:"# ",id:"t"},"Title"),s.a.createElement("input",{value:this.state.input.title,onChange:this.updateTitle.bind(this),className:"specify"}),s.a.createElement("a",{href:"#",id:"d"},"Photographer"),s.a.createElement("input",{value:this.state.input.photographer,onChange:this.updatePhotographer.bind(this),className:"specify"}),s.a.createElement("a",{href:"#",id:"l"},"Location"),s.a.createElement("input",{value:this.state.input.location,onChange:this.updateLocation.bind(this),className:"specify"}),s.a.createElement("div",{className:"year-slider"},s.a.createElement("a",{href:"#",id:"date"},"Start Year: ",this.state.input.year_start),s.a.createElement("input",{value:this.state.input.year_start,min:"1",max:(new Date).getFullYear(),step:"2",type:"range",onChange:this.updateStart.bind(this)}),s.a.createElement("a",{href:"#",id:"date"},"Year End: ",this.state.input.year_end),s.a.createElement("input",{value:this.state.input.year_end,min:"1",max:(new Date).getFullYear(),step:"2",type:"range",onChange:this.updateEnd.bind(this)}),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.pressedSearch.bind(this),id:"specify-button"},"Search"))))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(b,{quote:"Explore the Advancements to the Final Frontier"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.1f8d5a04.chunk.js.map